{"version":3,"sources":["integrationScript.js"],"names":["receiveSettings","e","origin","location","receiveInternalData","checkProtocol","trustpilot_integration_settings","TRUSTPILOT_INTEGRATION_APP_URL","data","startsWith","split","action","this","submitPastOrdersCommand","resync","issynced","submitCheckProductSkusCommand","sendSignupData","updateplugin","reloadSettings","tryParseJson","JSON","parse","TrustBoxPreviewMode","handleJSONMessage","jsonData","type","submitSettings","requestCategoryInfo","parsedData","window","updateIframeSize","trustbox","document","getElementById","contentWindow","postMessage","stringify","encodeSettings","settings","encodedString","setting","substring","length","getFormValues","form","values","el","elements","element","nodeName","name","value","str","xhr","XMLHttpRequest","open","ajaxurl","setRequestHeader","onreadystatechange","readyState","status","console","log","response","sendPastOrdersInfo","send","iframe","dataset","transfer","message","trustpilot_signup_data","div","enable","hidden","pageUrls","encodeURIComponent","customTrustBoxes","btoa","height","sendSettings","attrs","atob","pluginVersion","source","version","basis","productIdentificationOptions","isFromMarketplace","configurationScopeTree","pluginStatus","mode","trustboxes","sku","url","protocol","undefined","pastOrders","addEventListener"],"mappings":"AAEA,SAASA,gBAAgBC,GACrB,GAAIA,EAAEC,SAAWC,SAASD,OACtB,OAAOE,oBAAoBH,GAE/B,GAAIA,EAAEC,SAAWG,cAAcC,gCAAgCC,gCAC3D,OAEJ,MAAMC,EAAOP,EAAEO,KACf,GAAoB,iBAATA,EAGX,GAAIA,EAAKC,WAAW,UAAYD,EAAKC,WAAW,0BAA2B,CACvE,MAAMC,EAAQF,EAAKE,MAAM,KACnBC,GACNA,OAAmB,sBACnBA,EAAOD,EAAM,IAAMA,EAAM,GACzBE,KAAKC,wBAAwBF,QAC1B,GAAIH,EAAKC,WAAW,UAAW,CAClC,MAAME,GACNA,OAAmB,qBACnBG,OAAmB,UACnBF,KAAKC,wBAAwBF,QAC1B,GAAIH,EAAKC,WAAW,YAAa,CACpC,MAAME,GACNA,OAAmB,qBACnBI,SAAqB,YACrBH,KAAKC,wBAAwBF,QAC1B,GAAIH,EAAKC,WAAW,sBAAuB,CAC9C,MAAMC,EAAQF,EAAKE,MAAM,KACnBC,GACNA,OAAmB,sBACnBA,EAAoB,YAAID,EAAM,GAC9BE,KAAKI,8BAA8BL,OACnB,gBAATH,EACPI,KAAKK,iBACW,WAATT,EACPU,eACgB,WAATV,EACPW,iBACOX,GAAQY,aAAaZ,IAASa,KAAKC,MAAMd,GAAMe,oBACtDA,oBAAoBf,GAEpBgB,kBAAkBhB,GAI1B,SAASJ,oBAAoBH,GACzB,MAAMO,EAAOP,EAAEO,KACf,GAAIA,GAAwB,iBAATA,GAAqBY,aAAaZ,GAAO,CACxD,MAAMiB,EAAWJ,KAAKC,MAAMd,GACxBiB,GAA8B,mBAAlBA,EAASC,MACrBC,eAAeF,GAEfA,GAA8B,4BAAlBA,EAASC,MACrBE,sBAEAH,GAA8B,gBAAlBA,EAASC,MACrBC,eAAeF,IAK3B,SAASD,kBAAkBhB,GACvB,GAAIY,aAAaZ,GAAO,CACpB,MAAMqB,EAAaR,KAAKC,MAAMd,GAC9B,GAAIqB,EAAWC,OACXlB,KAAKmB,iBAAiBF,QACnB,GAAwB,WAApBA,EAAWH,KAClBd,KAAKe,eAAeE,QACjB,GAAIA,EAAWG,SAAU,CACbC,SAASC,eAAe,0BAChCC,cAAcC,YAAYf,KAAKgB,UAAUR,EAAWG,UAAW,OAKlF,SAASM,eAAeC,GACpB,IAAIC,EAAgB,GACpB,IAAK,MAAMC,KAAWF,EAClBC,MAAoBC,KAAWF,EAASE,MAE5C,OAAOD,EAAcE,UAAU,EAAGF,EAAcG,OAAS,GAG7D,SAASC,cAAcC,GACnB,IAAIC,KACJ,IAAK,MAAMC,KAAMF,EAAKG,SAAU,CAC5B,MAAMC,EAAUJ,EAAKG,SAASD,GACL,UAArBE,EAAQC,WACRJ,EAAOG,EAAQE,MAAQF,EAAQG,OAGvC,OAAON,EAGX,SAAS1B,aAAaiC,GAClB,IACIhC,KAAKC,MAAM+B,GACb,MAAOpD,GACL,OAAO,EAEX,OAAO,EAGX,SAASY,wBAAwBL,GAC7B,MAAM8C,EAAM,IAAIC,eAChBD,EAAIE,KAAK,OAAQC,SAAS,GAC1BH,EAAII,iBAAiB,eAAgB,qCACrCJ,EAAIK,mBAAqB,WACE,IAAnBL,EAAIM,aACAN,EAAIO,QAAU,IACdC,QAAQC,uBAAuBT,EAAIU,YAAYV,EAAIO,UAEnDI,mBAAmBX,EAAIU,YAInCV,EAAIY,KAAK5B,eAAe9B,IAG5B,SAASQ,8BAA8BR,GACnC,MAAM8C,EAAM,IAAIC,eAChBD,EAAIE,KAAK,OAAQC,SACjBH,EAAII,iBAAiB,eAAgB,qCACrCJ,EAAIK,mBAAqB,WACrB,GAAuB,IAAnBL,EAAIM,WACJ,GAAIN,EAAIO,QAAU,IACdC,QAAQC,uBAAuBT,EAAIU,YAAYV,EAAIO,cAChD,CACH,MAAMM,EAASlC,SAASC,eAAe,wBACvCiC,EAAOhC,cAAcC,YAAYkB,EAAIU,SAAUG,EAAOC,QAAQC,YAI1Ef,EAAIY,KAAK5B,eAAe9B,IAG5B,SAASS,iBACL,MAIMqC,EAAM,IAAIC,eAChBD,EAAIE,KAAK,OAAQC,SACjBH,EAAII,iBAAiB,eAAgB,qCACrCJ,EAAIK,mBAAqB,WACrB,GAAuB,IAAnBL,EAAIM,WACJ,GAAIN,EAAIO,QAAU,IACdC,QAAQC,uBAAuBT,EAAIU,YAAYV,EAAIO,cAChD,CACH,MAAMM,EAASlC,SAASC,eAAe,wBACjCoC,EAAUjD,KAAKgB,WAAWkC,uBAAwBjB,EAAIU,WAC5DG,EAAOhC,cAAcC,YAAYkC,EAASH,EAAOC,QAAQC,YAIrEf,EAAIY,KAAK5B,gBAjBL3B,OAAQ,qBAoBhB,SAASO,eACL,MAGMoC,EAAM,IAAIC,eAChBD,EAAIE,KAAK,OAAQC,SACjBH,EAAII,iBAAiB,eAAgB,qCACrCJ,EAAIY,KAAK5B,gBALL3B,OAAQ,8BAQhB,SAASY,oBAAoBf,GACzB,MAAM+B,EAAWlB,KAAKC,MAAMd,GACtBgE,EAAMvC,SAASC,eAAe,+BAChCK,EAAShB,oBAAoBkD,OAC7BD,EAAIE,QAAS,EAEbF,EAAIE,QAAS,EAIrB,SAASvD,iBACL,MAGMmC,EAAM,IAAIC,eAChBD,EAAIE,KAAK,OAAQC,SACjBH,EAAII,iBAAiB,eAAgB,qCACrCJ,EAAIK,mBAAqB,WACrB,GAAuB,IAAnBL,EAAIM,WACJ,GAAIN,EAAIO,QAAU,IACdC,QAAQC,uBAAuBT,EAAIU,YAAYV,EAAIO,cAChD,CACH,MAAMM,EAASlC,SAASC,eAAe,wBACvCiC,EAAOhC,cAAcC,YAAYkB,EAAIU,SAAUG,EAAOC,QAAQC,YAI1Ef,EAAIY,KAAK5B,gBAfL3B,OAAQ,gCAkBhB,SAASgB,eAAeE,GACpB,IAAIrB,GAASG,OAAQ,uBACG,mBAApBkB,EAAWH,KACXlB,EAAKmE,SAAWC,mBAAmBvD,KAAKgB,UAAUR,EAAW8C,WAClC,gBAApB9C,EAAWH,KAClBlB,EAAKqE,iBAAmBD,mBAAmBvD,KAAKgB,UAAUR,KAE1DrB,EAAK+B,SAAWqC,mBAAmBvD,KAAKgB,UAAUR,EAAWU,WAC7DN,SAASC,eAAe,0BAA0BkC,QAAQ7B,SAAWuC,KAAKtE,EAAK+B,WAEnF,MAAMe,EAAM,IAAIC,eAChBD,EAAIE,KAAK,OAAQC,SACjBH,EAAII,iBAAiB,eAAgB,qCAWrCJ,EAAIY,KAAK5B,eAAe9B,IAG5B,SAASoB,sBACL,MAGM0B,EAAM,IAAIC,eAChBD,EAAIE,KAAK,OAAQC,SACjBH,EAAII,iBAAiB,eAAgB,qCACrCJ,EAAIK,mBAAqB,WACE,IAAnBL,EAAIM,aACAN,EAAIO,QAAU,IACdC,QAAQC,uBAAuBT,EAAIU,YAAYV,EAAIO,UAEnD/B,OAAOM,YAAYkB,EAAIU,SAAUlC,OAAO5B,UAIpDoD,EAAIY,KAAK5B,gBAdL3B,OAAQ,+BAiBhB,SAASoB,iBAAiBQ,GACxB,MAAM4B,EAASlC,SAASC,eAAe,wBACnCiC,IACFA,EAAOY,OAAQxC,EAAST,OAAa,OAAI,MAI7C,SAASkD,eACL,MAAMb,EAASlC,SAASC,eAAe,wBAEjC+C,EAAQd,EAAOC,QACf7B,EAAWlB,KAAKC,MAAM4D,KAAKD,EAAM1C,WAiBvC,GAfKA,EAASP,WACVO,EAASP,aAGbO,EAASP,SAAS2C,SAAWtD,KAAKC,MAAM4D,KAAKD,EAAMN,WACnDpC,EAAS4C,cAAgBF,EAAME,cAC/B5C,EAAS6C,OAASH,EAAMG,OACxB7C,EAAS8C,QAAUJ,EAAMI,QACzB9C,EAAS+C,MAAQ,SACjB/C,EAASgD,6BAA+BlE,KAAKC,MAAM2D,EAAMM,8BACzDhD,EAASiD,kBAAoBP,EAAMO,kBACnCjD,EAASkD,uBAAyBpE,KAAKC,MAAM4D,KAAKD,EAAMQ,yBACxDlD,EAASmD,aAAerE,KAAKC,MAAM4D,KAAKD,EAAMS,eAC9CnD,EAASoD,KAAOV,EAAMU,KAElBpD,EAASP,SAAS4D,YAAcX,EAAMY,IACtC,IAAK7D,YAAYO,EAASP,SAAS4D,WAC/B5D,SAAS6D,IAAMZ,EAAMY,IAI7B,GAAItD,EAASP,SAAS4D,YAAcX,EAAM9B,KACtC,IAAKnB,YAAYO,EAASP,SAAS4D,WAC/B5D,SAASmB,KAAO8B,EAAM9B,KAI9BgB,EAAOhC,cAAcC,YAAYf,KAAKgB,UAAUE,GAAWlC,cAAc4E,EAAMZ,WAGnF,SAAShE,cAAcyF,GACnB,GAAIA,EAAIrF,WAAW,MAAO,CAEtB,OADiBqB,OAAO3B,SAAS4F,SACfD,EAEtB,OAAOA,EAGX,SAAS7B,mBAAmBzD,GACxB,MAAM2D,EAASlC,SAASC,eAAe,wBACjC+C,EAAQd,EAAOC,aAER4B,IAATxF,IACAA,EAAOyE,EAAMgB,YAGjB9B,EAAOhC,cAAcC,YAAY5B,EAAMH,cAAc4E,EAAMZ,WAjT/DvC,OAAOoE,iBAAiB,UAAWtF,KAAKZ","file":"integrationScript.min.js"}